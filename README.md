# 🔎 来找茬 (Design Diff Helper)

> **UI 还原度走查神器** > 为设计师、前端开发和测试工程师打造的 Chrome 浏览器插件。

![License](https://img.shields.io/badge/license-MIT-green) ![Version](https://img.shields.io/badge/version-v22.0-blue)

**“来找茬”** 连接了 **Figma 设计稿**与**真实网页**，提供了一套强大的可视化对比工具。它不仅能以“洋葱皮”模式叠加设计图，还能自动检测 CSS 属性差异，提升了 UI 走查和验收的效率。

---

## ✨ 核心功能 (Key Features)

### 1. 🧅 多维视觉对比
告别靠眼力“找不同”，提供三种专业对比模式：
* **洋葱皮 (Onion Skin)**: 半透明叠加设计稿，直观感受整体布局差异。
* **扫描线 (Swipe)**: 左右拖动扫描线，像“拉帘子”一样精准对比细节。
* **差值模式 (Difference)**: 像素级差异高亮，微小的颜色/位移偏差无处遁形。

### 2. 📐 智能差异检测
选中网页元素，插件自动拉取 Figma 数据并进行属性比对（支持 1px 级误差）：
* **尺寸检测**: 宽度、高度。
* **样式检测**: 圆角、字体大小、行高、字重。
* **子元素检查**: 自动检测子元素数量及尺寸是否匹配。
* **可视化标记**: 差异项会直接在页面对应位置打上红色 `!` 标记。

### 3. ❄️ 交互态冻结 (Freeze Mode)
**痛点解决**：想测 Hover 菜单或 Tooltip，鼠标一移开就消失？
* **解决方案**: 鼠标悬停在元素上，按下 **`F`** 键，即可**冻结**当前的 Hover 状态和选中框。此时你可以从容地截图、查看数据或复制报告。
* 

### 4. ⌨️ 像素级微调
设计稿与网页对不齐？
* 使用 **方向键 (↑ ↓ ← →)** 可对叠加层进行像素级移动。
* 按住 `Shift` + 方向键可进行 10px 大步幅移动。

---

## 📥 安装指南 (Installation)

由于本插件暂未上架 Chrome 商店，请使用**开发者模式**安装：

1.  **下载代码**：
    * 点击 GitHub 页面右上角的 `Code` -> `Download ZIP` 并解压。
    * 或者使用 Git 克隆：`git clone https://github.com/YOUR_USERNAME/Design-Diff-Helper.git`
2.  **打开扩展管理**：
    * 在 Chrome 浏览器地址栏输入：`chrome://extensions/`
3.  **开启开发者模式**：
    * 打开页面右上角的 **"开发者模式" (Developer mode)** 开关。
4.  **加载插件**：
    * 点击左上角的 **"加载已解压的扩展程序" (Load unpacked)**。
    * 选择你刚才下载/解压的文件夹（包含 `manifest.json` 的那一层）。
5.  **开始使用**：
    * 浏览器右上角会出现插件图标，建议点击“大头针”📌将其固定。

---

## 🚀 快速上手 (Getting Started)

### 第一步：配置 Figma Token (仅首次)
为了能获取设计稿数据，你需要提供 Figma 的访问权限：
1.  打开插件面板，点击顶部的 **设置 (⚙️)** 按钮，需开放「File content: Read-only」权限。
2.  填入你的 **Figma Personal Access Token**。
    * *如何获取 Token？在 Figma 中点击头像 -> Settings -> 往下划找到 Personal access tokens -> 生成新 Token。*

### 第二步：选择元素与关联设计
1.  打开你要测试的网页。
2.  点击插件面板上的 **“选择 DOM 元素”**。
3.  在页面上点击你要走查的模块（如一个卡片、一个按钮）。
4.  在面板输入框中粘贴该组件对应的 **Figma Node 链接** (选中 Figma 元素 -> 右键 Copy link)。
5.  点击 **Go**。

### 第三步：查看与反馈
* **视觉走查**：切换“扫描”或“差值”模式查看视觉还原度。
* **数据走查**：查看下方的“属性对比”表格，红色的行表示有差异。
* **提交 Bug**：如果发现问题，点击 **“📋 复制报告”**，发给开发同学。

---

## 🎹 快捷键 (Shortcuts)

| 按键 | 功能 |
| :--- | :--- |
| **`ESC`** | 退出选择模式 / 关闭面板 |
| **`F`** | **冻结/解冻** (Freeze) 当前 Hover 选区 |
| **`Space`** | **确认选中** (在 Hover 状态下避免触发点击事件) |
| **`↑ ↓ ← →`** | 移动设计稿覆盖层 (1px) |
| **`Shift` + `↑`** | 快速移动设计稿 (10px) |

---

## ❓ 常见问题 (FAQ)

**Q: 为什么提示 "Invalid Token"?**
A: 请确保你填入的是 Figma 的 **Personal Access Token**，而不是账号密码。并且该 Token 拥有读取对应设计文件的权限。

**Q: 页面刷新后插件面板不见了？**
A: 这是正常的。插件是注入到当前页面的，页面刷新后需要重新点击插件图标打开。

**Q: 为什么有时候选不中我想要的元素？**
A: 插件默认选中鼠标下最深层的元素。如果想选父级容器，可以在选择模式下按 **`Shift + Enter`** (向上选中) 或 **`Enter`** (向下选中) 来切换层级。

---

## 📄 License

[MIT](LICENSE) © 2026 Design Diff Helper Team
